<section class="section contact-wrapper" id="contact">
	<div id="particles-js2"></div>
	<div class="container">
		<div class="row justify-content-center txt-bg txt-bg-contact">
			<div class="col-lg-6">
				<div
					class="section-title text-center mb-4 pb-2 pointer wow fadeIn"
				>
					<!-- <div class="mb-5 pb-3">
						<i class="fas fa-headset h1"></i>
					</div> -->
					<h2 class="text-white h3">Contact Us</h2>
					<p class="text-white-50 mx-auto mb-0 mt-4 para-desc">
						Our location and phone number.
					</p>
				</div>
			</div>
		</div>
		<div class="row justify-content-center">
			<div
				*ngFor="let contact of contactData"
				class="col-lg-3 col-md-4 mt-4 pt-2 pointer wow slideIn{{
					contact['animationClass']
				}}"
				data-wow-delay="0.1s"
			>
				<ng-template #title
					><strong>
						<em>{{ contact["title"] }}</em>
					</strong></ng-template
				>
				<div
					class="text-center"
					placement="bottom"
					[ngbTooltip]="title"
				>
					<i class="{{ contact['icon'] }} text-custom h3 mb-4"></i>
					<h3
						*ngFor="let links of contact['links']"
						class="mb-{{
							contact['links'].length - 1
						}} font-weight-normal line-height-normal"
					>
						<a
							rel="noreferrer"
							aria-label="contact(opens in a new tab)"
							target="_blank"
							class="contact-links"
							href="{{ links['type'] }}{{ links['title'] }}"
							>{{ links["title"] }}</a
						>
					</h3>
				</div>
			</div>
		</div>

		<!-- Contact Form -->
		<div class="row justify-content-center mt-5">
			<div class="col-lg-10 col-xl-9">
				<div class="contact-form-wrapper wow fadeInUp" data-wow-delay="0.2s">
					<h3 class="text-white text-center mb-4">Send Us a Message</h3>

					<!-- Success Message -->
					<div *ngIf="submitSuccess" class="alert alert-success" role="alert">
						<i class="fas fa-check-circle"></i> Your message has been sent successfully! We'll get back to you soon.
					</div>

					<!-- Error Message -->
					<div *ngIf="submitError" class="alert alert-danger" role="alert">
						<i class="fas fa-exclamation-circle"></i> {{ errorMessage }}
					</div>

					<form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
						<!-- Name Field -->
						<div class="form-group mb-4">
							<label for="name" class="form-label text-white">Name *</label>
							<input
								type="text"
								id="name"
								formControlName="name"
								class="form-control"
								[class.is-invalid]="hasError('name', 'required') || hasError('name', 'minlength')"
								placeholder="Your Name"
							/>
							<div class="invalid-feedback" *ngIf="hasError('name', 'required')">
								Name is required
							</div>
							<div class="invalid-feedback" *ngIf="hasError('name', 'minlength')">
								Name must be at least 2 characters
							</div>
						</div>

						<!-- Email Field -->
						<div class="form-group mb-4">
							<label for="email" class="form-label text-white">Email *</label>
							<input
								type="email"
								id="email"
								formControlName="email"
								class="form-control"
								[class.is-invalid]="hasError('email', 'required') || hasError('email', 'email')"
								placeholder="your.email@example.com"
							/>
							<div class="invalid-feedback" *ngIf="hasError('email', 'required')">
								Email is required
							</div>
							<div class="invalid-feedback" *ngIf="hasError('email', 'email')">
								Please enter a valid email address
							</div>
						</div>

						<!-- Company Name Field (Optional) -->
						<div class="form-group mb-4">
							<label for="company" class="form-label text-white">Company Name</label>
							<input
								type="text"
								id="company"
								formControlName="company"
								class="form-control"
								placeholder="Your Company (Optional)"
							/>
						</div>

						<!-- Message Field -->
						<div class="form-group mb-4">
							<label for="message" class="form-label text-white">Message *</label>
							<textarea
								id="message"
								formControlName="message"
								class="form-control"
								[class.is-invalid]="hasError('message', 'required') || hasError('message', 'minlength')"
								rows="5"
								placeholder="Tell us about your inquiry..."
							></textarea>
							<div class="invalid-feedback" *ngIf="hasError('message', 'required')">
								Message is required
							</div>
							<div class="invalid-feedback" *ngIf="hasError('message', 'minlength')">
								Message must be at least 10 characters
							</div>
						</div>

						<!-- Submit Button -->
						<div class="text-center">
							<button
								type="submit"
								class="btn btn-primary btn-submit"
								[disabled]="contactForm.invalid || isSubmitting"
							>
								<span *ngIf="!isSubmitting">
									<i class="fas fa-paper-plane"></i> Send Message
								</span>
								<span *ngIf="isSubmitting">
									<i class="fas fa-spinner fa-spin"></i> Sending...
								</span>
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</section>
